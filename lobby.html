<!DOCTYPE html>
<html>
<head>
    <!-- Balises meta pour le jeu de caract√®res, la compatibilit√© et le design responsive -->
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>PeerChat</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <!-- Lien vers la feuille de style sp√©cifique au lobby -->
    <link rel='stylesheet' type='text/css' media='screen' href='lobby.css'>
</head>
<body>
    <!--
        Conteneur principal du lobby - c'est le point d'entr√©e de l'application
        o√π les utilisateurs peuvent saisir un code de salle pour rejoindre un chat vid√©o
    -->
    <main id="lobby-container">
        <div id="form-container">
            <!-- Section d'en-t√™te avec message de bienvenue -->
            <div id="form__container__header">
                <p>üëã Cr√©er OU Rejoindre une Salle</p>
            </div>

            <!-- Formulaire pour saisir un code de salle -->
            <div id="form__content__wrapper">
                <form id="join-form">
                    <!-- Champ de saisie pour le code de salle/lien d'invitation -->
                    <input type="text" name="invite_link" required placeholder="Entrez le code de salle"/>
                    <!-- Bouton de soumission pour rejoindre la salle -->
                    <input type="submit" value="Rejoindre la Salle" />
                </form>
            </div>
        </div>
    </main>
</body>

<!--
    JavaScript pour g√©rer la soumission du formulaire :
    1. Emp√™che la soumission par d√©faut du formulaire
    2. R√©cup√®re le code de salle du champ de saisie
    3. Redirige vers la page de chat vid√©o avec le code de salle comme param√®tre d'URL
-->
<script>
    // Obtenir une r√©f√©rence √† l'√©l√©ment de formulaire
    let form = document.getElementById('join-form')

    // Ajouter un √©couteur d'√©v√©nement pour la soumission du formulaire
    form.addEventListener('submit', (e) => {
        // Emp√™cher le comportement de soumission par d√©faut du formulaire
        e.preventDefault()
        // R√©cup√©rer le code de salle du champ de saisie
        let inviteCode = e.target.invite_link.value
        // Rediriger vers la page de chat vid√©o avec le code de salle comme param√®tre d'URL
        window.location = `index.html?room=${inviteCode}`
    })
</script>

</html>